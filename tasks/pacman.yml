- name: Configure Pacman output
  become: yes
  community.general.ini_file:
    path: /etc/pacman.conf
    mode: 0644
    allow_no_value: yes
    section: options
    option: '{{ item.option }}'
    no_extra_spaces: yes
  loop:
  - option: Color
  - option: ILoveCandy
  - option: VerbosePkgLists

- name: Configure Pacman other options
  become: yes
  community.general.ini_file:
    path: /etc/pacman.conf
    mode: 0644
    section: options
    option: '{{ item.option }}'
    value: '{{ item.value }}'
    no_extra_spaces: yes
  loop:
  - option: ParallelDownloads
    value: 5

- name: Install pacman programs
  become: yes
  community.general.pacman:
    state: present
    name:
    - pacman-contrib
    - reflector

- name: Install pacseek
  become: yes
  become_user: aur_builder
  kewlfft.aur.aur:
    use: makepkg
    state: present
    name:
    - pacseek